<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2012 by the authors.

GNU フリー文書利用許諾契約書バージョン 1.1 またはフリー ソフトウェア財団によって発行されたその後のバージョンの約定に従う限り、このドキュメントを複製、変更する許可を与えます。変更不可部分はありません。この利用許諾契約書のコピーは「GNU フリー文書利用許諾契約書」という章に含まれています。

 -->
<!-- Created on 3 月 17, 2014 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond 学習マニュアル: 3.3.2 コンテキストを作成する</title>

<meta name="description" content="GNU LilyPond 学習マニュアル: 3.3.2 コンテキストを作成する">
<meta name="keywords" content="GNU LilyPond 学習マニュアル: 3.3.2 コンテキストを作成する">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.ja.html#index" rel="start" title="LilyPond &mdash; 学習マニュアル">
<link href="lilypond-index.ja.html#lilypond-index" rel="index" title="C. LilyPond インデックス">
<link href="index_toc.ja.html#SEC_Contents" rel="contents" title="目次">
<link href="index_abt.ja.html#SEC_About" rel="help" title="このドキュメントについて">
<link href="contexts-and-engravers.ja.html#contexts-and-engravers" rel="up" title="3.3 コンテキストとエングラーバ">
<link href="lilypond-index.ja.html#lilypond-index" rel="next" title="C. LilyPond インデックス">
<link href="contexts-explained.ja.html#contexts-explained" rel="previous" title="3.3.1 コンテキストの説明">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="ja" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="g_t_30b3_30f3_30c6_30ad_30b9_30c8_3092_4f5c_6210_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="fundamental-concepts.ja.html" title="この章あるいは前の章の先頭"> &lt;&lt; 基礎となるコンセプト&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ja.html" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="index_toc.ja.html#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="lilypond-index.ja.html" title="インデックス" rel="index">インデックス</a>][<a href="index_abt.ja.html#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="tweaking-output.ja.html" title="次の章">&nbsp;出力を調整する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="contexts-explained.ja.html" title="前のセクション" accesskey="p" rel="previous"> &lt; コンテキストの説明&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="contexts-and-engravers.ja.html" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;コンテキストとエングラーバ&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="engravers-explained.ja.html" title="次のセクション" accesskey="n" rel="next">&nbsp;エングラーバの説明 &gt; </a>]</td></tr></table>
<a name="creating-contexts"></a>
<h3 class="subsection">3.3.2 コンテキストを作成する</h3>

<a name="index-_005cnew-2"></a>
<a name="index-_005cnew-3"></a>
<a name="index-new-2"></a>
<a name="index-new-3"></a>
<a name="index-new-contexts-_0028_65b0_3057_3044_30b3_30f3_30c6_30ad_30b9_30c8_0029"></a>
<a name="index-creating-contexts-_0028_30b3_30f3_30c6_30ad_30b9_30c8_3092_4f5c_6210_3059_308b_0029"></a>
<a name="index-contexts_002c-creating-_0028_30b3_30f3_30c6_30ad_30b9_30c8_3092_4f5c_6210_3059_308b_0029"></a>

<p>入力ファイルの中で、<code>\score</code> コマンドによって導入される
score ブロックは単一の音楽表記とそれに関連する出力定義
(<code>\layout</code> ブロックあるいは <code>\midi</code> ブロック)
を保持します。通常、<code>Score</code> コンテキストは省略され、音楽表記の解釈が始まった時点で自動的に作成されます。
</p>
<p>ボイスが 1 つだけで、譜も 1 つだけの楽譜では、<code>Voice</code> と <code>Staff</code> も省略して、自動的に作成させることができます。コンテキストは自動的に作成されるために放っておかれるかもしれません。しかしながら、より複雑な楽譜ではこれらを手ずから作成する必要があります。これらを作成する最も簡単なコマンドは <code>\new</code> です。これは音楽表記の前に置きます。例を挙げます:
</p>
<blockquote><pre class="example">\new <var>type</var> <var>music-expression</var>
</pre></blockquote>


<p>ここで、<var>type</var> はコンテキスト名です (<code>Staff</code> や <code>Voice</code> など)。このコマンドは新しいコンテキストを作成し、そのコンテキストの中にある
<var>music-expression</var> の解釈を開始します。
</p>
<div class="warning"><p><strong>Note:</strong> 必須の最上位 <code>Score</code> コンテキストとして \<code>new Score</code>
を使わないでください。これは、\<code>score</code> ブロックの中にある音楽表記が解釈される時に自動的に作成されます。楽譜全体のコンテキスト プロパティのデフォルト値を変更するには、\<code>layout</code> ブロックの中で行います。<a href="modifying-context-properties.ja.html">コンテキスト プロパティを変更する</a> を参照してください。
</p>
</div>
<p>これまでに、新たに <code>Staff</code> と <code>Voice</code> コンテキストを作成する多くの実際的な例を見てきましたが、これらのコマンドが実際にどのように使用されるのかを覚えてもらうために、実際の音楽に注釈を付けた例を挙げます:
</p>
<blockquote><pre class="verbatim">\score {  % 複合音楽表記の開始点
  &lt;&lt;  % 同時進行する譜の開始点
    \time 2/4
    \new Staff {  % create RH staff
      \clef &quot;treble&quot;
      \key g \minor
      \new Voice {  % 右手の音符用のボイスを作成します
        \relative c'' {  % 右手の音符の開始点
          d4 ees16 c8. |
          d4 ees16 c8. |
        }  % 右手の音符の終了点
      }  % 右手のボイスの終了点
    }  % 右手の譜の終了点
    \new Staff &lt;&lt;  % 左手の譜を作成します。2 つの同時進行するボイスを必要とします
      \clef &quot;bass&quot;
      \key g \minor
      \new Voice {  % 左手のボイス 1 を作成します
        \voiceOne
        \relative g {  % 左手のボイス 1 の音符の開始点
          g8 &lt;bes d&gt; ees, &lt;g c&gt; |
          g8 &lt;bes d&gt; ees, &lt;g c&gt; |
        }  % 左手のボイス 1 の音符の終了点
      }  % 左手のボイス 1 の終了点
      \new Voice {  % 左手のボイス 2 を作成します
        \voiceTwo
        \relative g {  % 左手のボイス 2 の音符の開始点
          g4 ees |
          g4 ees |
        }  % 左手のボイス 2 の音符の終了点
      }  % 左手のボイス 2 の終了点
    &gt;&gt;  % 左手の譜の終了点
  &gt;&gt;  % 同時進行する譜セクションの終了点
}  % 複合音楽表記の終了点
</pre><p>
 <a href="../63/lily-2b1ba6e1.ly">
  <img align="middle"
       border="0"
       src="../63/lily-2b1ba6e1.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>(波括弧 <code>{</code> や 2 重山括弧 <code>&lt;&lt;</code> の中でブロックになっているすべての記述には括弧よりもスペースが 2 つ多いインデントを付けられていて、閉じ括弧には括弧の開始行と同じインデントを付けられているということに注意してください。これは必須ではありませんが、こうしておくと &lsquo;unmatched backet&rsquo;
(「括弧が一致しない」) エラーを大幅に減らすことができますので、強く推奨します。これにより、音楽の構造を簡単に見て取ることができ、一致していない括弧が明瞭になります。さらに、右手の譜はボイスを 1 つだけしか必要としないために波括弧によって囲まれた単一の音楽表記として作成されているのに対して、左手の譜は 2 つのボイスを必要とするために
2 重山括弧を使って作成されていることにも注意してください。)
</p>
<a name="index-contexts_002c-naming-_0028_30b3_30f3_30c6_30ad_30b9_30c8_3092_540d_524d_3092_4ed8_3051_308b_0029"></a>
<a name="index-naming-contexts-_0028_30b3_30f3_30c6_30ad_30b9_30c8_3092_540d_524d_3092_4ed8_3051_308b_0029"></a>

<p>また、<code>\new</code> コマンドはコンテキストに識別名を与えて、そのコンテキストを同じタイプの他のコンテキストと区別することを可能にするかもしれません:
</p>
<blockquote><pre class="example">\new <var>type</var> = <var>id</var> <var>music-expression</var>
</pre></blockquote>

<p><code>Staff</code>, <code>Voice</code> などといったコンテキスト タイプの名前とそのようなコンテキスト タイプのインスタンスの名前
&ndash;これはユーザによって決定され、どのような文字の連なりにもなり得ます
&ndash; の違いに注意してください。数字とスペースも識別名に使用することができますが、その場合クォートで囲まなければなりません
&ndash; つまり、<code>\new Staff = &quot;MyStaff 1&quot; <var>music-expression</var></code>
のようになります。識別名はコンテキストのあるインスタンスを参照するために使用されます。このことを歌詞についてのセクションで見てきました。<a href="voices-and-vocals.ja.html">ボイスとボーカル</a> を参照してください。
</p>

<a name="g_t_53c2_7167-10"></a>
<h4 class="subsubheading">参照</h4>
<p>記譜法リファレンス: <a name="index-Creating-and-referencing-contexts"></a>
<a href="../notation/creating-and-referencing-contexts.ja.html">Creating and referencing contexts</a>
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="fundamental-concepts.ja.html" title="この章あるいは前の章の先頭"> &lt;&lt; 基礎となるコンセプト&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ja.html" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="index_toc.ja.html#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="lilypond-index.ja.html" title="インデックス" rel="index">インデックス</a>][<a href="index_abt.ja.html#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="tweaking-output.ja.html" title="次の章">&nbsp;出力を調整する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="contexts-explained.ja.html" title="前のセクション" accesskey="p" rel="previous"> &lt; コンテキストの説明&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="contexts-and-engravers.ja.html" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;コンテキストとエングラーバ&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="engravers-explained.ja.html" title="次のセクション" accesskey="n" rel="next">&nbsp;エングラーバの説明 &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-stable-2.18/scripts/build/out/www_post -->
<p class="footer_version">
このページは LilyPond-2.18.2 (安定版) を対象としています。
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-stable-2.18/scripts/build/out/www_post -->
 他の言語: <a href="creating-contexts.html">English</a>, <a href="creating-contexts.cs.html">česky</a>, <a href="creating-contexts.de.html">deutsch</a>, <a href="creating-contexts.es.html">español</a>, <a href="creating-contexts.fr.html">français</a>, <a href="creating-contexts.hu.html">magyar</a>, <a href="creating-contexts.it.html">italiano</a>, <a href="creating-contexts.nl.html">nederlands</a>
 <br>
 About <a href="http://www.lilypond.org/website/misc/browser-language">automatic language selection</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.ja.html"
         title="Documentation Index">&lt;&lt; ドキュメント インデックスに戻る</a></p>
<h4 class="toc_header"> <a href="index.ja.html" title="Start of the manual">LilyPond &mdash; 学習マニュアル  v2.18.2 (安定版). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-_30c1_30e5_30fc_30c8_30ea_30a2_30eb-1" href="tutorial.ja.html">1. チュートリアル</a>
  <ul class="toc">
    <li class=""><a name="toc-_30d5_30a1_30a4_30eb_3092_30b3_30f3_30d1_30a4_30eb_3059_308b-1" href="compiling-a-file.ja.html">1.1 ファイルをコンパイルする</a>    </li>
    <li class=""><a name="toc-_5165_529b_30d5_30a1_30a4_30eb_306e_66f8_304d_65b9-1" href="how-to-write-input-files.ja.html">1.2 入力ファイルの書き方</a>    </li>
    <li class=""><a name="toc-_30a8_30e9_30fc_306b_5bfe_51e6_3059_308b-1" href="dealing-with-errors.ja.html">1.3 エラーに対処する</a>    </li>
    <li class=""><a name="toc-_3053_306e_30de_30cb_30e5_30a2_30eb_306e_8aad_307f_65b9-1" href="how-to-read-the-manuals.ja.html">1.4 このマニュアルの読み方</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-_4e00_822c_7684_306a_8a18_8b5c_6cd5-1" href="common-notation.ja.html">2. 一般的な記譜法</a>
  <ul class="toc">
    <li class=""><a name="toc-_5358_4e00_8b5c_8868_8868_8a18-1" href="single-staff-notation.ja.html">2.1 単一譜表表記</a>    </li>
    <li class=""><a name="toc-_540c_6642_306b_6f14_594f_3059_308b_8907_6570_306e_97f3_7b26-1" href="multiple-notes-at-once.ja.html">2.2 同時に演奏する複数の音符</a>    </li>
    <li class=""><a name="toc-_6b4c_66f2-1" href="songs.ja.html">2.3 歌曲</a>    </li>
    <li class=""><a name="toc-_4ed5_4e0a_3052-1" href="final-touches.ja.html">2.4 仕上げ</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-_57fa_790e_3068_306a_308b_30b3_30f3_30bb_30d7_30c8-1" href="fundamental-concepts.ja.html">3. 基礎となるコンセプト</a>
  <ul class="toc">
    <li class=""><a name="toc-LilyPond-_5165_529b_30d5_30a1_30a4_30eb_306e_4ed5_7d44_307f-1" href="how-lilypond-input-files-work.ja.html">3.1 LilyPond 入力ファイルの仕組み</a>    </li>
    <li class=""><a name="toc-_97f3_697d_3092_4fdd_6301_3059_308b_30dc_30a4_30b9-1" href="voices-contain-music.ja.html">3.2 音楽を保持するボイス</a>    </li>
    <li class=" toc_current"><a name="toc-_30b3_30f3_30c6_30ad_30b9_30c8_3068_30a8_30f3_30b0_30e9_30fc_30d0-1" href="contexts-and-engravers.ja.html">3.3 コンテキストとエングラーバ</a>
    <ul class="toc">
      <li class=""><a name="toc-_30b3_30f3_30c6_30ad_30b9_30c8_306e_8aac_660e-1" href="contexts-explained.ja.html">3.3.1 コンテキストの説明</a>      </li>
      <li class=" toc_current"><a name="toc-_30b3_30f3_30c6_30ad_30b9_30c8_3092_4f5c_6210_3059_308b-1" href="creating-contexts.ja.html">3.3.2 コンテキストを作成する</a>      </li>
      <li class=""><a name="toc-_30a8_30f3_30b0_30e9_30fc_30d0_306e_8aac_660e-1" href="engravers-explained.ja.html">3.3.3 エングラーバの説明</a>      </li>
      <li class=""><a name="toc-_30b3_30f3_30c6_30ad_30b9_30c8-_30d7_30ed_30d1_30c6_30a3_3092_5909_66f4_3059_308b-1" href="modifying-context-properties.ja.html">3.3.4 コンテキスト プロパティを変更する</a>      </li>
      <li class=""><a name="toc-_30a8_30f3_30b0_30e9_30fc_30d0_3092_8ffd_52a0-_002f-_524a_9664_3059_308b-1" href="adding-and-removing-engravers.ja.html">3.3.5 エングラーバを追加 / 削除する</a>      </li>
    </ul>
    </li>
    <li class=""><a name="toc-_30c6_30f3_30d7_30ec_30fc_30c8_3092_62e1_5f35_3059_308b-1" href="extending-the-templates.ja.html">3.4 テンプレートを拡張する</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-_51fa_529b_3092_8abf_6574_3059_308b-1" href="tweaking-output.ja.html">4. 出力を調整する</a>
  <ul class="toc">
    <li class=""><a name="toc-_8abf_6574_306e_57fa_672c-1" href="tweaking-basics.ja.html">4.1 調整の基本</a>    </li>
    <li class=""><a name="toc-_5185_90e8_30ea_30d5_30a1_30ec_30f3_30b9-_30de_30cb_30e5_30a2_30eb-1" href="the-internals-reference-manual.ja.html">4.2 内部リファレンス マニュアル</a>    </li>
    <li class=""><a name="toc-_30aa_30d6_30b8_30a7_30af_30c8_306e_898b_305f_76ee-1" href="appearance-of-objects.ja.html">4.3 オブジェクトの見た目</a>    </li>
    <li class=""><a name="toc-_30aa_30d6_30b8_30a7_30af_30c8_306e_914d_7f6e-1" href="placement-of-objects.ja.html">4.4 オブジェクトの配置</a>    </li>
    <li class=""><a name="toc-_30aa_30d6_30b8_30a7_30af_30c8_306e_885d_7a81-1" href="collisions-of-objects.ja.html">4.5 オブジェクトの衝突</a>    </li>
    <li class=""><a name="toc-_66f4_306a_308b_8abf_6574-1" href="further-tweaking.ja.html">4.6 更なる調整</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-_30c6_30f3_30d7_30ec_30fc_30c8-1" href="templates.ja.html">A. テンプレート</a>
  <ul class="toc">
    <li class=""><a name="toc-_5358_4e00_8b5c_30c6_30f3_30d7_30ec_30fc_30c8-1" href="single-staff-templates.ja.html">A.1 単一譜テンプレート</a>    </li>
    <li class=""><a name="toc-_30d4_30a2_30ce-_30c6_30f3_30d7_30ec_30fc_30c8-1" href="piano-templates.ja.html">A.2 ピアノ テンプレート</a>    </li>
    <li class=""><a name="toc-_5f26_697d_56db_91cd_594f_30c6_30f3_30d7_30ec_30fc_30c8-1" href="string-quartet-templates.ja.html">A.3 弦楽四重奏テンプレート</a>    </li>
    <li class=""><a name="toc-_5408_5531_30c6_30f3_30d7_30ec_30fc_30c8-1" href="vocal-ensembles-templates.ja.html">A.4 合唱テンプレート</a>    </li>
    <li class=""><a name="toc-_30aa_30fc_30b1_30b9_30c8_30e9-_30c6_30f3_30d7_30ec_30fc_30c8-1" href="orchestral-templates.ja.html">A.5 オーケストラ テンプレート</a>    </li>
    <li class=""><a name="toc-_53e4_4ee3_306e_8a18_8b5c_6cd5_30c6_30f3_30d7_30ec_30fc_30c8-1" href="ancient-notation-templates.ja.html">A.6 古代の記譜法テンプレート</a>    </li>
    <li class=""><a name="toc-_305d_306e_4ed6_306e_30c6_30f3_30d7_30ec_30fc_30c8-1" href="other-templates.ja.html">A.7 その他のテンプレート</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.ja.html">B. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-LilyPond-_30a4_30f3_30c7_30c3_30af_30b9-1" href="lilypond-index.ja.html">C. LilyPond インデックス</a>  </li>
<li>
<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.18 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.18 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.18 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google Search">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Search">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
