<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2012 a szerzők.

Ezt a dokumentumot a GNU Free Documentation License (GNU Szabad
Dokumentációs Licenc) 1.1-es vagy frissebb, a Free Software Foundation
(Szabad Szoftver Alapítvány) által kiadott verziójának megfelelően
lehet másolni, terjeszteni és/vagy módosítani, nem változtatható szakaszok nélkül.
A licenc másolata a ,,GNU Free Documentation License" című függelékben
található.

 -->
<!-- Created on március 17, 2014 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond Tankönyv: 3.4.3 Kotta létrehozása az alapoktól</title>

<meta name="description" content="LilyPond Tankönyv: 3.4.3 Kotta létrehozása az alapoktól">
<meta name="keywords" content="LilyPond Tankönyv: 3.4.3 Kotta létrehozása az alapoktól">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.hu.html#index" rel="start" title="LilyPond &mdash; Tankönyv">
<link href="lilypond-index.hu.html#lilypond-index" rel="index" title="C. LilyPond tárgymutató">
<link href="index_toc.hu.html#SEC_Contents" rel="contents" title="Tartalomjegyzék">
<link href="index_abt.hu.html#SEC_About" rel="help" title="A navigációs panel használata">
<link href="extending-the-templates.hu.html#extending-the-templates" rel="up" title="3.4 A sablonok kibővítése">
<link href="lilypond-index.hu.html#lilypond-index" rel="next" title="C. LilyPond tárgymutató">
<link href="four_002dpart-satb-vocal-score.hu.html#four_002dpart-satb-vocal-score" rel="previous" title="3.4.2 Négyszólamú vegyeskar">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="hu" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Kotta-l_00e9trehoz_00e1sa-az-alapokt_00f3l"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="fundamental-concepts.hu.html" title="Fejezet eleje vagy előző fejezet"> &lt;&lt; Alapfogalmak&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.hu.html" title="Dokumentum címoldala" rel="start">Címoldal</a>][<a href="index_toc.hu.html#SEC_Contents" title="Tartalomjegyzék" rel="contents">Tartalom</a>][<a href="lilypond-index.hu.html" title="Tárgymutató" rel="index">Tárgymutató</a>][<a href="index_abt.hu.html#SEC_About" title="Segítség a navigációhoz" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="tweaking-output.hu.html" title="Következő fejezet">&nbsp;A kimenet finomhangolása &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="four_002dpart-satb-vocal-score.hu.html" title="Előző szakasz az olvasási sorrendben" accesskey="p" rel="previous"> &lt; Négyszólamú vegyeskar&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="extending-the-templates.hu.html" title="Szülő szakasz" accesskey="u" rel="up">&nbsp;Fel:&nbsp;A sablonok kibővítése&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="saving-typing-with-variables-and-functions.hu.html" title="Következő szakasz az olvasási sorrendben" accesskey="n" rel="next">&nbsp;Kevesebb gépelés változókkal és függvényekkel &gt; </a>]</td></tr></table>
<a name="building-a-score-from-scratch"></a>
<h3 class="subsection">3.4.3 Kotta létrehozása az alapoktól</h3>

<a name="index-template_002c-writing-your-own"></a>
<a name="index-example-of-writing-a-score"></a>
<a name="index-writing-a-score_002c-example"></a>
<a name="index-score_002c-example-of-writing"></a>

<p>After gaining some facility with writing LilyPond code, you
may find that it is easier to build a score from scratch
rather than modifying one of the templates.  You can also
develop your own style this way to suit the sort of music you
like.  Let&rsquo;s see how to put together the score for an organ
prelude as an example.
</p>
<p>We begin with a header section.  Here go the title, name
of composer, etc, then come any variable definitions, and
finally the score block.  Let&rsquo;s start with these in outline
and fill in the details later.
</p>
<p>We&rsquo;ll use the first two bars of Bach&rsquo;s prelude
based on <em>Jesu, meine Freude</em> which is written for two
manuals and pedal organ.  You can see these two bars of music
at the bottom of this section.  The top manual part has two voices,
the lower and pedal organ one each.  So we need four
music definitions and one to define the time signature
and key:
</p>
<blockquote><pre class="example">\version &quot;2.18.2&quot;
\header {
  title = &quot;Jesu, meine Freude&quot;
  composer = &quot;J S Bach&quot;
}
TimeKey = {
  \time 4/4
  \key c \minor
}
ManualOneVoiceOneMusic = { s1 }
ManualOneVoiceTwoMusic = { s1 }
ManualTwoMusic = { s1 }
PedalOrganMusic = { s1 }

\score {
}
</pre></blockquote>

<p>For now we&rsquo;ve just used a spacer note, <code>s1</code>,
instead of the real music.  We&rsquo;ll add that later.
</p>
<p>Next let&rsquo;s see what should go in the score block.
We simply mirror the staff structure we want.
Organ music is usually written on three staves,
one for each manual and one for the pedals.  The
manual staves should be bracketed together, so we
need to use a PianoStaff for them.  The first
manual part needs two voices and the second manual
part just one.
</p>
<blockquote><pre class="example">  \new PianoStaff &lt;&lt;
    \new Staff = &quot;ManualOne&quot; &lt;&lt;
      \new Voice {
        \ManualOneVoiceOneMusic
      }
      \new Voice {
        \ManualOneVoiceTwoMusic
      }
    &gt;&gt;  % end ManualOne Staff context
    \new Staff = &quot;ManualTwo&quot; &lt;&lt;
      \new Voice {
        \ManualTwoMusic
      }
    &gt;&gt;  % end ManualTwo Staff context
  &gt;&gt;  % end PianoStaff context
</pre></blockquote>

<p>Next we need to add a staff for the pedal organ.
This goes underneath the PianoStaff, but it must
be simultaneous with it, so we need angle brackets
around the two.  Missing these out would generate
an error in the log file.  It&rsquo;s a common mistake
which you&rsquo;ll make sooner or later!  Try copying
the final example at the end of this section,
remove these angle brackets, and compile it to
see what errors it generates.
</p>
<blockquote><pre class="example">&lt;&lt;  % PianoStaff and Pedal Staff must be simultaneous
  \new PianoStaff &lt;&lt;
    \new Staff = &quot;ManualOne&quot; &lt;&lt;
      \new Voice {
        \ManualOneVoiceOneMusic
      }
      \new Voice {
        \ManualOneVoiceTwoMusic
      }
    &gt;&gt;  % end ManualOne Staff context
    \new Staff = &quot;ManualTwo&quot; &lt;&lt;
      \new Voice {
        \ManualTwoMusic
      }
    &gt;&gt;  % end ManualTwo Staff context
  &gt;&gt;  % end PianoStaff context
  \new Staff = &quot;PedalOrgan&quot; &lt;&lt;
    \new Voice {
      \PedalOrganMusic
    }
  &gt;&gt;
&gt;&gt;
</pre></blockquote>

<p>It is not necessary to use the simultaneous construct
<code>&lt;&lt; .. &gt;&gt;</code> for the manual two staff and the pedal organ staff,
since they contain only one music expression, but it does no harm,
and always using angle brackets after <code>\new Staff</code> is a good
habit to cultivate in case there are multiple voices.  The opposite
is true for Voices: these should habitually be followed by braces
<code>{ .. }</code> in case your music is coded in several variables
which need to run consecutively.
</p>
<p>Let&rsquo;s add this structure to the score block, and adjust the indenting.
We also add the appropriate clefs, ensure stems, ties and slurs in
each voice on the upper staff point to the right direction with
<code>\voiceOne</code> and <code>\voiceTwo</code>, and enter the time signature
and key to each staff using our predefined variable, <code>\TimeKey</code>.
</p>
<blockquote><pre class="example">\score {
  &lt;&lt;  % PianoStaff and Pedal Staff must be simultaneous
    \new PianoStaff &lt;&lt;
      \new Staff = &quot;ManualOne&quot; &lt;&lt;
        \TimeKey  % set time signature and key
        \clef &quot;treble&quot;
        \new Voice {
          \voiceOne
          \ManualOneVoiceOneMusic
        }
        \new Voice {
          \voiceTwo
          \ManualOneVoiceTwoMusic
        }
      &gt;&gt;  % end ManualOne Staff context
      \new Staff = &quot;ManualTwo&quot; &lt;&lt;
        \TimeKey
        \clef &quot;bass&quot;
        \new Voice {
          \ManualTwoMusic
        }
      &gt;&gt;  % end ManualTwo Staff context
    &gt;&gt;  % end PianoStaff context
    \new Staff = &quot;PedalOrgan&quot; &lt;&lt;
      \TimeKey
      \clef &quot;bass&quot;
      \new Voice {
        \PedalOrganMusic
      }
    &gt;&gt;  % end PedalOrgan Staff
  &gt;&gt;
}  % end Score context
</pre></blockquote>

<p>That completes the structure.  Any three-staff organ music
will have a similar structure, although the number of voices
may vary.  All that remains now
is to add the music, and combine all the parts together.
</p>
<blockquote><blockquote><pre class="example">\version &quot;2.18.2&quot;
</pre></blockquote>
<pre class="verbatim">\header {
  title = &quot;Jesu, meine Freude&quot;
  composer = &quot;J S Bach&quot;
}
TimeKey = {
  \time 4/4
  \key c \minor
}
ManualOneVoiceOneMusic = \relative g' {
  g4 g f ees
  d2 c2
}
ManualOneVoiceTwoMusic = \relative c' {
  ees16 d ees8~ ees16 f ees d c8 d~ d c~
  c c4 b8 c8. g16 c b c d
}
ManualTwoMusic = \relative c' {
  c16 b c8~ c16 b c g a8 g~ g16 g aes ees
  f ees f d g aes g f ees d e8~ ees16 f ees d
}
PedalOrganMusic = \relative c {
  r8 c16 d ees d ees8~ ees16 a, b g c b c8
  r16 g ees f g f g8 c,2
}

\score {
  &lt;&lt;  % PianoStaff and Pedal Staff must be simultaneous
    \new PianoStaff &lt;&lt;
      \new Staff = &quot;ManualOne&quot; &lt;&lt;
        \TimeKey  % set time signature and key
        \clef &quot;treble&quot;
        \new Voice {
          \voiceOne
          \ManualOneVoiceOneMusic
        }
        \new Voice {
          \voiceTwo
          \ManualOneVoiceTwoMusic
        }
      &gt;&gt;  % end ManualOne Staff context
      \new Staff = &quot;ManualTwo&quot; &lt;&lt;
        \TimeKey
        \clef &quot;bass&quot;
        \new Voice {
          \ManualTwoMusic
        }
      &gt;&gt;  % end ManualTwo Staff context
    &gt;&gt;  % end PianoStaff context
    \new Staff = &quot;PedalOrgan&quot; &lt;&lt;
      \TimeKey
      \clef &quot;bass&quot;
      \new Voice {
        \PedalOrganMusic
      }
    &gt;&gt;  % end PedalOrgan Staff context
  &gt;&gt;
}  % end Score context
</pre><p>
 <a href="../b3/lily-fe19c159.ly">
  <img align="middle"
       border="0"
       src="../b3/lily-fe19c159.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="fundamental-concepts.hu.html" title="Fejezet eleje vagy előző fejezet"> &lt;&lt; Alapfogalmak&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.hu.html" title="Dokumentum címoldala" rel="start">Címoldal</a>][<a href="index_toc.hu.html#SEC_Contents" title="Tartalomjegyzék" rel="contents">Tartalom</a>][<a href="lilypond-index.hu.html" title="Tárgymutató" rel="index">Tárgymutató</a>][<a href="index_abt.hu.html#SEC_About" title="Segítség a navigációhoz" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="tweaking-output.hu.html" title="Következő fejezet">&nbsp;A kimenet finomhangolása &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="four_002dpart-satb-vocal-score.hu.html" title="Előző szakasz az olvasási sorrendben" accesskey="p" rel="previous"> &lt; Négyszólamú vegyeskar&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="extending-the-templates.hu.html" title="Szülő szakasz" accesskey="u" rel="up">&nbsp;Fel:&nbsp;A sablonok kibővítése&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="saving-typing-with-variables-and-functions.hu.html" title="Következő szakasz az olvasási sorrendben" accesskey="n" rel="next">&nbsp;Kevesebb gépelés változókkal és függvényekkel &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-stable-2.18/scripts/build/out/www_post -->
<p class="footer_version">
This page is for LilyPond-2.18.2 (stable-branch).
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-stable-2.18/scripts/build/out/www_post -->
 Más nyelvek: <a href="building-a-score-from-scratch.html">English</a>, <a href="building-a-score-from-scratch.cs.html">česky</a>, <a href="building-a-score-from-scratch.de.html">deutsch</a>, <a href="building-a-score-from-scratch.es.html">español</a>, <a href="building-a-score-from-scratch.fr.html">français</a>, <a href="building-a-score-from-scratch.it.html">italiano</a>, <a href="building-a-score-from-scratch.ja.html">日本語</a>, <a href="building-a-score-from-scratch.nl.html">nederlands</a>.
 <br>
 About <a href="http://www.lilypond.org/website/misc/browser-language">automatic language selection</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.hu.html"
         title="Documentation Index">&lt;&lt; Vissza a dokumentációk jegyzékéhez</a></p>
<h4 class="toc_header"> <a href="index.hu.html" title="Start of the manual">LilyPond &mdash; Tankönyv  v2.18.2 (stable-branch). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Elso-lecke" href="tutorial.hu.html">1. Első lecke</a>
  <ul class="toc">
    <li class=""><a name="toc-Fajlok-forditasa" href="compiling-a-file.hu.html">1.1 Fájlok fordítása</a>    </li>
    <li class=""><a name="toc-Bemeneti-fajlok-irasa" href="how-to-write-input-files.hu.html">1.2 Bemeneti fájlok írása</a>    </li>
    <li class=""><a name="toc-Hogyan-olvassuk-a-dokumentaciot_003f" href="how-to-read-the-manuals.hu.html">1.3 Hogyan olvassuk a dokumentációt?</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Elemi-kottairas" href="common-notation.hu.html">2. Elemi kottaírás</a>
  <ul class="toc">
    <li class=""><a name="toc-Egyszolamu-lejegyzes" href="single-staff-notation.hu.html">2.1 Egyszólamú lejegyzés</a>    </li>
    <li class=""><a name="toc-Tobb-hang-egyszerre" href="multiple-notes-at-once.hu.html">2.2 Több hang egyszerre</a>    </li>
    <li class=""><a name="toc-Dalok-1" href="songs.hu.html">2.3 Dalok</a>    </li>
    <li class=""><a name="toc-Utolso-simitasok" href="final-touches.hu.html">2.4 Utolsó simítások</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Alapfogalmak-1" href="fundamental-concepts.hu.html">3. Alapfogalmak</a>
  <ul class="toc">
    <li class=""><a name="toc-Hogyan-mukodnek-a-LilyPond-bemeneti-fajlok_003f" href="how-lilypond-input-files-work.hu.html">3.1 Hogyan működnek a LilyPond bemeneti fájlok?</a>    </li>
    <li class=""><a name="toc-A-szolamok-zenet-tartalmaznak" href="voices-contain-music.hu.html">3.2 A szólamok zenét tartalmaznak</a>    </li>
    <li class=""><a name="toc-Kontextusok-es-abrazolok" href="contexts-and-engravers.hu.html">3.3 Kontextusok és ábrázolók</a>    </li>
    <li class=" toc_current"><a name="toc-A-sablonok-kibovitese" href="extending-the-templates.hu.html">3.4 A sablonok kibővítése</a>
    <ul class="toc">
      <li class=""><a name="toc-Szopran-es-csello" href="soprano-and-cello.hu.html">3.4.1 Szoprán és cselló</a>      </li>
      <li class=""><a name="toc-Negyszolamu-vegyeskar" href="four_002dpart-satb-vocal-score.hu.html">3.4.2 Négyszólamú vegyeskar</a>      </li>
      <li class=" toc_current"><a name="toc-Kotta-letrehozasa-az-alapoktol" href="building-a-score-from-scratch.hu.html">3.4.3 Kotta létrehozása az alapoktól</a>      </li>
      <li class=""><a name="toc-Kevesebb-gepeles-valtozokkal-es-fuggvenyekkel" href="saving-typing-with-variables-and-functions.hu.html">3.4.4 Kevesebb gépelés változókkal és függvényekkel</a>      </li>
      <li class=""><a name="toc-Partitura-es-szolamkottak" href="scores-and-parts.hu.html">3.4.5 Partitúra és szólamkották</a>      </li>
    </ul>
    </li>
  </ul>
  </li>
  <li class=""><a name="toc-A-kimenet-finomhangolasa" href="tweaking-output.hu.html">4. A kimenet finomhangolása</a>
  <ul class="toc">
    <li class=""><a name="toc-A-finomhangolas-alapjai" href="tweaking-basics.hu.html">4.1 A finomhangolás alapjai</a>    </li>
    <li class=""><a name="toc-A-belso-mukodes-referenciaja" href="the-internals-reference-manual.hu.html">4.2 A belső működés referenciája</a>    </li>
    <li class=""><a name="toc-Objektumok-megjelenese" href="appearance-of-objects.hu.html">4.3 Objektumok megjelenése</a>    </li>
    <li class=""><a name="toc-Objektumok-elhelyezese" href="placement-of-objects.hu.html">4.4 Objektumok elhelyezése</a>    </li>
    <li class=""><a name="toc-Objektumok-utkozese" href="collisions-of-objects.hu.html">4.5 Objektumok ütközése</a>    </li>
    <li class=""><a name="toc-Tovabbi-finomhangolas" href="further-tweaking.hu.html">4.6 További finomhangolás</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Sablonok-1" href="templates.hu.html">A. Sablonok</a>
  <ul class="toc">
    <li class=""><a name="toc-Egy-kottasor-1" href="single-staff.hu.html">A.1 Egy kottasor</a>    </li>
    <li class=""><a name="toc-Zongorasablonok-1" href="piano-templates.hu.html">A.2 Zongorasablonok</a>    </li>
    <li class=""><a name="toc-Vonosnegyes-1" href="von_00c3_00b3sn_00c3_00a9gyes.hu.html">A.3 Vonósnégyes</a>    </li>
    <li class=""><a name="toc-Korus" href="vocal-ensembles.hu.html">A.4 Kórus</a>    </li>
    <li class=""><a name="toc-Zenekari-sablonok-1" href="orchestral-templates.hu.html">A.5 Zenekari sablonok</a>    </li>
    <li class=""><a name="toc-Sablonok-regizenehez" href="ancient-notation-templates.hu.html">A.6 Sablonok régizenéhez</a>    </li>
    <li class=""><a name="toc-Egyeb-sablonok" href="other-templates.hu.html">A.7 Egyéb sablonok</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.hu.html">B. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-LilyPond-targymutato" href="lilypond-index.hu.html">C. LilyPond tárgymutató</a>  </li>
<li>
<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.18 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.18 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.18 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google keresés">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Keresés">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
